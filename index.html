<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor Minimalista MP3</title>
    <style>
        /* Reset y configuración básica */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Fondo completamente transparente */
        body {
            background: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        /* Contenedor del reproductor */
        .reproductor {
            width: 400px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        /* Contenedor del botón */
        .contenedor-boton {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 60px;
            height: 100%;
        }
        
        /* Botón de reproducción */
        .boton-play {
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            position: relative;
            transition: transform 0.2s ease;
        }
        
        .boton-play:hover {
            transform: scale(1.05);
        }
        
        /* Flecha de reproducción blanca */
        .play-icon {
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 16px solid white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-40%, -50%);
        }
        
        /* Icono de pausa */
        .pause-icon {
            width: 16px;
            height: 20px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            justify-content: space-between;
        }
        
        .pause-icon::before,
        .pause-icon::after {
            content: '';
            width: 5px;
            height: 100%;
            background: white;
        }
        
        /* Contenedor de la barra */
        .contenedor-barra {
            flex: 1;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            padding-left: 20px;
        }
        
        /* Línea de duración */
        .barra-progreso {
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            position: relative;
            max-width: 300px;
        }
        
        .progreso {
            position: absolute;
            height: 100%;
            background: white;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        /* Punto en la barra de progreso */
        .punto-progreso {
            position: absolute;
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .barra-progreso:hover .punto-progreso {
            opacity: 1;
        }
        
        /* Audio oculto */
        #audioPlayer {
            display: none;
        }
        
        /* Para que sea visible en páginas con fondo blanco */
        .boton-play,
        .barra-progreso {
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
        }
    </style>
</head>
<body>
    <div class="reproductor">
        <!-- Botón de reproducción (izquierda) -->
        <div class="contenedor-boton">
            <button class="boton-play" id="playBtn">
                <div class="play-icon" id="playIcon"></div>
            </button>
        </div>
        
        <!-- Línea de duración (derecha) -->
        <div class="contenedor-barra">
            <div class="barra-progreso" id="progressBar">
                <div class="progreso" id="progress"></div>
                <div class="punto-progreso" id="progressDot"></div>
            </div>
        </div>
        
        <!-- Reproductor de audio oculto -->
        <audio id="audioPlayer" preload="metadata"></audio>
    </div>

    <script>
        // Elementos del DOM
        const audioPlayer = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        const progressDot = document.getElementById('progressDot');
        
        // Estado del reproductor
        let isPlaying = false;
        
        // URLs de las canciones (cambia estas por tus propias canciones)
        const canciones = [
            'assets/low.mp3'
        ];
        
        // Cargar la primera canción por defecto
        audioPlayer.src = canciones[0];
        
        // Función para actualizar la posición del punto en la barra
        function actualizarPuntoProgreso() {
            if (audioPlayer.duration) {
                const porcentaje = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progressDot.style.left = `${porcentaje}%`;
            }
        }
        
        // Controlar reproducción/pausa
        playBtn.addEventListener('click', () => {
            if (!isPlaying) {
                audioPlayer.play().catch(e => {
                    console.log('Error al reproducir:', e);
                });
            } else {
                audioPlayer.pause();
            }
        });
        
        // Actualizar icono de reproducción
        audioPlayer.addEventListener('play', () => {
            isPlaying = true;
            playIcon.className = 'pause-icon';
        });
        
        audioPlayer.addEventListener('pause', () => {
            isPlaying = false;
            playIcon.className = 'play-icon';
        });
        
        // Actualizar barra de progreso y punto
        audioPlayer.addEventListener('timeupdate', () => {
            if (audioPlayer.duration) {
                const porcentaje = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progress.style.width = `${porcentaje}%`;
                actualizarPuntoProgreso();
            }
        });
        
        // Saltar a posición al hacer clic en la barra
        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const width = rect.width;
            const porcentaje = Math.min(Math.max((clickX / width) * 100, 0), 100);
            
            if (audioPlayer.duration) {
                audioPlayer.currentTime = (audioPlayer.duration * porcentaje) / 100;
            }
        });
        
        // Mostrar/ocultar punto al pasar el mouse
        progressBar.addEventListener('mouseenter', () => {
            progressDot.style.opacity = '1';
        });
        
        progressBar.addEventListener('mouseleave', () => {
            progressDot.style.opacity = '0';
        });
        
        // Cuando se cargan los metadatos
        audioPlayer.addEventListener('loadedmetadata', () => {
            console.log('Canción cargada. Duración:', audioPlayer.duration);
            actualizarPuntoProgreso();
        });
        
        // Cuando la canción termina
        audioPlayer.addEventListener('ended', () => {
            isPlaying = false;
            playIcon.className = 'play-icon';
            progress.style.width = '100%';
        });
        
        // Manejar errores
        audioPlayer.addEventListener('error', (e) => {
            console.error('Error cargando el audio:', e);
            // Si la primera canción falla, intenta con la segunda
            if (audioPlayer.src === canciones[0] && canciones.length > 1) {
                audioPlayer.src = canciones[1];
                audioPlayer.load();
            }
        });
        
        // Precargar la canción
        audioPlayer.load();
    </script>
</body>
</html>


