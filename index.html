<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reproductor Minimalista MP3</title>
    <style>
        /* Reset y configuración básica */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* Fondo completamente transparente */
        body {
            background: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        
        /* Contenedor del reproductor */
        .reproductor {
            width: 300px;
            height: 100px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        /* Botón de reproducción */
        .boton-play {
            width: 40px;
            height: 40px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
            position: relative;
        }
        
        /* Flecha de reproducción blanca */
        .play-icon {
            width: 0;
            height: 0;
            border-top: 10px solid transparent;
            border-bottom: 10px solid transparent;
            border-left: 16px solid white;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-40%, -50%);
        }
        
        /* Icono de pausa */
        .pause-icon {
            width: 16px;
            height: 20px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            justify-content: space-between;
        }
        
        .pause-icon::before,
        .pause-icon::after {
            content: '';
            width: 5px;
            height: 100%;
            background: white;
        }
        
        /* Línea de duración */
        .barra-progreso {
            width: 100%;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            position: relative;
        }
        
        .progreso {
            position: absolute;
            height: 100%;
            background: white;
            width: 0%;
            transition: width 0.1s linear;
        }
        
        /* Audio oculto */
        #audioPlayer {
            display: none;
        }
        
        /* Para que sea visible en páginas con fondo blanco, añade sombra */
        .boton-play,
        .barra-progreso {
            filter: drop-shadow(0 1px 2px rgba(0,0,0,0.3));
        }
    </style>
</head>
<body>
    <div class="reproductor">
        <!-- Botón de reproducción -->
        <button class="boton-play" id="playBtn">
            <div class="play-icon" id="playIcon"></div>
        </button>
        
        <!-- Línea de duración -->
        <div class="barra-progreso" id="progressBar">
            <div class="progreso" id="progress"></div>
        </div>
        
        <!-- Reproductor de audio oculto -->
        <audio id="audioPlayer" preload="metadata"></audio>
    </div>

    <script>
        // Elementos del DOM
        const audioPlayer = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const progressBar = document.getElementById('progressBar');
        const progress = document.getElementById('progress');
        
        // Estado del reproductor
        let isPlaying = false;
        
        // Cargar canción (aquí puedes cambiar la URL)
        const canciones = [
            'https://assets.codepen.io/4358584/Anitek_-_Komorebi.mp3',
            'https://assets.codepen.io/4358584/Asher_Fulero_-_Game_Show.mp3'
        ];
        
        // Cargar la primera canción por defecto
        audioPlayer.src = canciones[0];
        
        // Controlar reproducción/pausa
        playBtn.addEventListener('click', () => {
            if (!isPlaying) {
                audioPlayer.play();
            } else {
                audioPlayer.pause();
            }
        });
        
        // Actualizar icono de reproducción
        audioPlayer.addEventListener('play', () => {
            isPlaying = true;
            playIcon.className = 'pause-icon';
        });
        
        audioPlayer.addEventListener('pause', () => {
            isPlaying = false;
            playIcon.className = 'play-icon';
        });
        
        // Actualizar barra de progreso
        audioPlayer.addEventListener('timeupdate', () => {
            if (audioPlayer.duration) {
                const porcentaje = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                progress.style.width = `${porcentaje}%`;
            }
        });
        
        // Saltar a posición al hacer clic en la barra
        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const clickX = e.clientX - rect.left;
            const width = rect.width;
            const porcentaje = (clickX / width);
            
            if (audioPlayer.duration) {
                audioPlayer.currentTime = audioPlayer.duration * porcentaje;
            }
        });
        
        // Cuando se cargan los metadatos
        audioPlayer.addEventListener('loadedmetadata', () => {
            console.log('Duración de la canción:', audioPlayer.duration);
        });
        
        // Manejar errores
        audioPlayer.addEventListener('error', (e) => {
            console.error('Error cargando el audio:', e);
            // Si la primera canción falla, intenta con la segunda
            if (audioPlayer.src === canciones[0]) {
                audioPlayer.src = canciones[1];
                audioPlayer.load();
            }
        });
    </script>
</body>
</html>
